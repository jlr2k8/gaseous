$(window).on("load",function(){$.post("/css-preview-check/",function(e){"1"==e&&$("body").prepend('<div id="site_admin_banner_message">You are currently previewing custom CSS. To exit the preview, <a href="/admin/css/">return to the CSS admin page</a> and choose "Exit Preview"</div>')})}),$(document).ready(function(){$(".uri_preview_setter").on("change",function(){var e=null;$(this).is("select")?e=$(this).find("option:selected").text():$(this).is('input[type="text"]')&&(e=$(this).val().replace(/[^a-z0-9\-]/g,""));var t=$('input[name="this_uri_piece"]').css("border"),i=$("#preview_hint").css("color");$(this).val()!=e&&$(this).is('input[type="text"]')?($('input[name="this_uri_piece"]').css("border","2px solid red"),$("#preview_hint").text("URI must be constructed with lowercase alphanumeric characters and dashes only.").css("color","red")):($('input[name="this_uri_piece"]').css("border",t),$("#preview_hint").text("").css("color",i)),$("#preview_full_parent_uri").text($('select[name="parent_page_uri"] option:selected').text()),$("#preview_this_url_piece").text($('input[name="this_uri_piece"]').val())})}),$(document).ready(function(){$('button[name="update"].role_update').on("click",function(e){e.preventDefault();var t=$(this).attr("data-role-name"),i=$(this),n=i.html();i.text("Updating...").attr("disabled","disabled");var a=$("#role_"+t).serialize()+"&update";$.post("/admin/roles/",a,function(){i.html('Updated&#160;<i class="fas fa-check"></i>').delay(1e3).queue(function(e){i.html(n).removeAttr("disabled"),e()})})})}),$(document).ready(function(){$('button[name="update"].setting_update').on("click",function(e){e.preventDefault();var t=$(this).attr("data-setting-key"),i=$(this),n=i.html();i.text("Updating...").attr("disabled","disabled");var a=$("#setting_"+t).serialize()+"&update";$.post("/admin/settings/",a,function(){i.html('Updated&#160;<i class="fas fa-check"></i>').delay(1e3).queue(function(e){i.html(n).removeAttr("disabled"),e()})})}),$(".roles_checkbox_container").each(function(){var e,t,i=$(this).attr("data-key");e=i,t=!1,$("#roles_checkbox_container_"+e+' input[type="checkbox"]').each(function(){$(this).is(":checked")&&(t=!0)}),!1===t?($("#roles_checkbox_container_"+e).hide(),$("#specify_roles_"+e).show()):$("#specify_roles_"+e).hide()}),$(".specify_roles").on("click",function(e){e.preventDefault();var t=$(this).attr("data-key");$(this).hide(0,function(){$("#roles_checkbox_container_"+t).show(0)})}),$(".boolean_setting_true").on("change click",function(){var e=$(this).attr("data-key");$("#roles_checkbox_container_"+e+' input[type="checkbox"]').each(function(){$(this).prop("checked",!0)})}),$(".boolean_setting_false").on("change click",function(){var e=$(this).attr("data-key");$("#roles_checkbox_container_"+e+' input[type="checkbox"]').each(function(){$(this).removeAttr("checked")}),$("#roles_checkbox_container_"+e).hide(),$("#specify_roles_"+e).show()})}),$(document).ready(function(){$('button[name="update"].user_update').on("click",function(e){e.preventDefault();var t=$(this).attr("data-username"),i=$(this),n=i.html();i.text("Updating...").attr("disabled","disabled");var a=$("#account_"+t).serialize()+"&update";$.post("/admin/users/",a,function(){i.html('Updated&#160;<i class="fas fa-check"></i>').delay(1e3).queue(function(e){i.html(n).removeAttr("disabled"),e()})})})});